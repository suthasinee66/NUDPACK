<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Camera Test</title>
  <script src="https://unpkg.com/html5-qrcode"></script>
</head>
<body>
  <h2>Camera Test</h2>
  <button onclick="start()">Start</button>
  <button onclick="stop()">Stop</button>
  <div id="reader" style="width:300px"></div>

<script>
let qr;

function start() {
  qr = new Html5Qrcode("reader");
  Html5Qrcode.getCameras().then(cams => {
    qr.start(
      cams[0].id,
      { fps: 10, qrbox: 250 },
      txt => console.log("SCAN:", txt),
      err => {}
    );
  });
}

function stop() {
  if (qr) qr.stop();
}
</script>
</body>
</html>
